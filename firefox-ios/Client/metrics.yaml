# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at http://mozilla.org/MPL/2.0/.

# This file defines the metrics that are recorded by the Glean SDK. They are
# automatically converted to Kotlin code at build time using the `glean_parser`
# PyPI package.

# This file is organized (roughly) alphabetically by metric names
# for easy navigation

---
$schema: moz://mozilla.org/schemas/glean/metrics/2-0-0

# App cycle
app_cycle:
  foreground:
    type: event
    description: |
      Records when the app comes to foreground
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  background:
    type: event
    description: |
      Records when the app goes to background
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
# App icon
app_icon:
  new_private_tab_tapped:
    type: event
    description: |
      A user opened a new private tab from long pressing the app icon
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14903
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15503
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
# Accessibility
accessibility:
  voice_over:
    type: event
    description: |
      Records the Voice Over feature
    extra_keys:
      is_running:
        type: string
        description: |
          If is running or not (true / false)
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10179
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10839
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  switch_control:
    type: event
    description: |
      Records the Switch Control feature
    extra_keys:
      is_running:
        type: string
        description: |
          If is running or not (true / false)
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10179
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10839
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  reduce_transparency:
    type: event
    description: |
      Records the Reduce Transparency feature
    extra_keys:
      is_enabled:
        type: string
        description: |
          If is enabled or not (true / false)
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10179
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10839
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  reduce_motion:
    type: event
    description: |
      Records the Reduce Motion feature
    extra_keys:
      is_enabled:
        type: string
        description: |
          If is enabled or not (true / false)
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10179
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10839
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  invert_colors:
    type: event
    description: |
      Records the Invert Colors feature
    extra_keys:
      is_enabled:
        type: string
        description: |
          If is enabled or not (true / false)
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10179
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10839
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  dynamic_text:
    type: event
    description: |
      Records the Dynamic Text feature
    extra_keys:
      is_accessibility_size_enabled:
        type: string
        description: |
          If larger accessibility sizes is enabled or not (true / false).
      preferred_size:
        type: string
        description: |
          The preferred content size category selected.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/12236
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12236
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
# App menu
app_menu:
  main_menu_option_selected:
    type: event
    description: |
      Record event when user has tapped on the main menu option.
    extra_keys:
      option:
        type: string
        description: |
          The option type selected on the main menu.
      is_homepage:
        type: boolean
        description: |
          Indicate if is homepage when select an option.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19329
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22788
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  save_menu_option_selected:
    type: event
    description: |
      Record event when user has tapped on a save sub menu option.
    extra_keys:
      option:
        type: string
        description: |
          The option type selected on the save sub menu.
      is_homepage:
        type: boolean
        description: |
          Indicate if is homepage when select an option.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23040
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23046
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  tools_menu_option_selected:
    type: event
    description: |
      Record event when user has tapped on a tools sub menu option.
    extra_keys:
      option:
        type: string
        description: |
          The option type selected on the tools sub menu.
      is_homepage:
        type: boolean
        description: |
          Indicate if is homepage when select an option.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23040
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23046
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  close_button:
    type: event
    description: |
      Record event when user has tapped the close menu button.
    extra_keys:
      is_homepage:
        type: boolean
        description: |
          Indicate if is homepage when select an option.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19329
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22788
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  menu_dismissed:
    type: event
    description: |
      Record event when user has dismissed the menu because of tapping outside or drag the menu.
    extra_keys:
      is_homepage:
        type: boolean
        description: |
          Indicate if is homepage when select an option.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19329
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22788
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  homepage_menu:
    type: counter
    description: |
        Counts the number of times a user taps in the menu toolbar
        on the homepage
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/12697
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12716
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  site_menu:
    type: counter
    description: |
        Counts the number of times a user taps in the menu toolbar
        from a website
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/12697
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12716
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  home:
    type: counter
    description: |
        Counts the number of times a user taps Home in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  block_images_enabled:
    type: counter
    description: |
        Counts the number of times a user enables Block Images
        in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  block_images_disabled:
    type: counter
    description: |
        Counts the number of times a user disables Block Images
        in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  night_mode_enabled:
    type: counter
    description: |
        Counts the number of times a user taps Enable Night Mode
        in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  night_mode_disabled:
    type: counter
    description: |
        Counts the number of times a user taps Disable Night Mode
        in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  whats_new:
    type: counter
    description: |
        Counts the number of times a user taps What's New in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  help:
    type: counter
    description: |
        Counts the number of times a user taps Help in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/12697
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12716
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  customize_homepage:
    type: counter
    description: |
        Counts the number of times a user taps Customize Homepage
        in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/12697
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12716
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  settings:
    type: counter
    description: |
        Counts the number of times a user taps Settings in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  logins:
    type: counter
    description: |
        Counts the number of times a user taps Logins & Passwords
        in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/1544
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  sign_into_sync:
    type: counter
    description: |
        Counts the number of times a user taps Sign Into Sync
        in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/1544
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://github.com/mozilla-mobile/firefox-ios/pull/15181
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  passwords:
    type: event
    description: |
      Records when the user taps Passwords in the app menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Bookmark metrics
bookmarks:
  view_list:
    type: labeled_counter
    description: |
      Counts the number of times the bookmarks list is opened
      from either the Home Panel tab button or the App Menu.
    labels:
      - app-menu
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  add:
    type: labeled_counter
    description: |
      Counts the number of times a bookmark is added from the
      following:
      * Page Action Menu
      * Share Menu
      * Activity stream

    labels:
      - page-action-menu
      - share-menu
      - activity-stream
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  delete:
    type: labeled_counter
    description: |
      Counts the number of times a bookmark is deleted from
      the following:
      * Page Action Menu
      * Activity Stream
      * Bookmarks Panel
    labels:
      - page-action-menu
      - activity-stream
      - bookmarks-panel
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  edit:
    type: labeled_counter
    description: |
      Counts the number of times a bookmark is tapped to
      be edited from:
      * Add bookmark toast Edit button
      * Bookmarks panel edit bookmarks view
    labels:
      - add-bookmark-toast
      - bookmarks-panel
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7464
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8675
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  open:
    type: labeled_counter
    description: |
      Counts the number of times a bookmark is opened from
      the following:
      * Awesomebar results
      * Bookmarks Panel
      * Top sites
    labels:
      - awesomebar-results
      - bookmarks-panel
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://github.com/mozilla-mobile/firefox-ios/pull/15833
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  has_mobile_bookmarks:
    type: boolean
    description: |
      A boolean that indicates if the user has bookmarks
      in the mobile folder.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15620
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15833
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  mobile_bookmarks_count:
    type: quantity
    description: |
      A quantity that indicates how many bookmarks a user
      has in the mobile folder.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15620
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15833
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    unit: quantity of mobile bookmarks
  folder_add:
    type: event
    description: |
      A user added a new bookmark folder.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15620
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15833
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Context menus
context_menu:
  option_selected:
    type: event
    description: |
      Records when the user selects an option from a context menu.
    extra_keys:
      option:
        type: string
        description: |
          The type of option selected.
          Options are listed in the ContextMenuTelemetry.OptionExtra enumeration.
      origin:
        type: string
        description: |
          The type of context menu the option was selected from.
          Options are listed in the ContextMenuTelemetry.OriginExtra enumeration.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-11798
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/25805
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
    metadata:
      tags:
        - ContextMenu
  shown:
    type: event
    description: |
      Records when a context menu is shown.
    extra_keys:
      origin:
        type: string
        description: |
          The type of context menu the option was selected from.
          Options are listed in the ContextMenuTelemetry.OriginExtra enumeration.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-11798
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/25805
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
    metadata:
      tags:
        - ContextMenu
  dismissed:
    type: event
    description: |
      Records when a context menu is dismissed.
    extra_keys:
      origin:
        type: string
        description: |
          The type of context menu the option was selected from.
          Options are listed in the ContextMenuTelemetry.OriginExtra enumeration.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-11798
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/25805
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
    metadata:
      tags:
        - ContextMenu

# Default browser card metrics
default_browser_card:
  dismiss_pressed:
    type: counter
    description: |
      Counts the number of times default browser card is dismissed.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7151
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7245
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  go_to_settings_pressed:
    type: counter
    description: |
      Counts the number of times the Go To Settings button on
      default browser card is clicked.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7151
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7245
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  evergreen_impression:
    type: event
    description: |
      Reports events of Home Tab Banner evergreen impressions.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9696
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10600
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Default browser onboarding metrics
default_browser_onboarding:
  dismiss_pressed:
    type: counter
    description: |
      Counts the number of times default browser onboarding is dismissed.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7870
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7245
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  go_to_settings_pressed:
    type: counter
    description: |
      Counts the number of times the Go To Settings button on
      default browser onboarding is clicked.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7870
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7245
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

app:
  default_browser:
    type: boolean
    description: |
      Is Firefox the default browser
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23411
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23426
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2026-01-01"
  choice_screen_acquisition:
    type: boolean
    description: |
      The user installed the app via the browser choice screen
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23411
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23426
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2026-01-01"
  opened_as_default_browser:
    type: counter
    description: |
      Counts the number of times the app is opened from an external
      link, implying the client has Firefox set as a default browser.

      Currently this is our most accurate way of measuring how
      often Firefox is set as the default browser.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7151
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7245
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://github.com/mozilla-mobile/firefox-ios/pull/16375
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  notification_permission:
    type: event
    description: |
      Records the status of the users notification permission.
    extra_keys:
      status:
        type: string
        description: |
            The status of the users notification permission.
      alert_setting:
        type: string
        description: |
            The users alert setting.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/13039
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/13039
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  last_opened_as_default_browser:
    type: datetime
    time_unit: day
    description: |
      The date of when the app was last opened as default browser.
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/24599
      - https://bugzilla.mozilla.org/1941035
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24594
    data_sensitivity:
      - technical
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: "2025-07-01"

# Usage reporting
usage:
  profile_id:
    type: uuid
    lifetime: user
    description: |
      A UUID uniquely identifying the profile,
      not shared with other telemetry data.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23254
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23254
    data_sensitivity:
      - technical
      - highly_sensitive
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: never
    send_in_pings:
      - usage-reporting
      - usage-deletion-request

  duration:
    type: timespan
    time_unit: millisecond
    description: |
      The duration of the last foreground session.
    time_unit: second
    send_in_pings:
      - usage-reporting
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23785
      - https://bugzilla.mozilla.org/1497894
      - https://bugzilla.mozilla.org/1519120
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23950
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1512938#c3
    data_sensitivity:
      - technical
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: never

  reason:
    type: string
    lifetime: ping
    send_in_pings:
      - usage-reporting
    description: |
      The optional reason the ping was submitted.
      The specific values for reason are specific to each ping, and are
      documented in the ping's pings.yaml file.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23785
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1557048
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23950
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1609218#c4
    data_sensitivity:
      - technical
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: never

  os:
    type: string
    lifetime: application
    send_in_pings:
      - usage-reporting
    description: |
      The name of the operating system.
      Possible values:
      Android, iOS, Linux, Darwin, Windows,
      FreeBSD, NetBSD, OpenBSD, Solaris, Unknown
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23785
      - https://bugzilla.mozilla.org/1497894
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23950
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1512938#c3
    data_sensitivity:
      - technical
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: never

  os_version:
    type: string
    lifetime: application
    send_in_pings:
      - usage-reporting
    description: |
      The user-visible version of the operating system (e.g. "1.2.3").
      If the version detection fails, this metric gets set to `Unknown`.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23785
      - https://bugzilla.mozilla.org/1497894
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23950
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1512938#c3
    data_sensitivity:
      - technical
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: never

  app_display_version:
    type: string
    lifetime: application
    send_in_pings:
      - usage-reporting
    description: |
      The user visible version string (e.g. "1.0.3").
      If the value was not provided through configuration,
      this metric gets set to `Unknown`.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23785
      - https://bugzilla.mozilla.org/1508305
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23950
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1508305#c9
    data_sensitivity:
      - technical
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: never

  app_channel:
    type: string
    lifetime: application
    send_in_pings:
      - usage-reporting
    description: |
      The channel the application is being distributed on.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23785
      - https://bugzilla.mozilla.org/1520741
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23950
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1520741#c18
    data_sensitivity:
      - technical
    notification_emails:
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: never

  first_run_date:
    type: datetime
    lifetime: user
    send_in_pings:
      - usage-reporting
    time_unit: day
    description: |
      The date of the first run of the application.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23785
      - https://bugzilla.mozilla.org/1525045
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23950
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1525045#c18
    data_sensitivity:
      - technical
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: never

  app_build:
    type: string
    lifetime: application
    send_in_pings:
      - usage-reporting
    description: |
      The build identifier generated by the CI system (e.g. "1234/A").
      If the value was not provided through configuration,
      this metric gets set to `Unknown`.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23785
      - https://bugzilla.mozilla.org/1508305
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23950
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1512938#c3
    data_sensitivity:
      - technical
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - glean-team@mozilla.com
    expires: never

# Downloads
downloads:
  download_now_button_tapped:
    type: event
    description: |
      Records when the download now button is pressed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  downloads_panel_row_tapped:
    type: event
    description: |
      Records when a row is pressed in the downloads panel
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  view_download_complete_toast:
    type: event
    description: |
      Records when the toast message is tapped after a download is completed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Password Generator
password_generator:
  shown:
    type: counter
    description: |
        The password generator bottom sheet was shown and is visible
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/21248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/issues/21248
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  filled:
    type: counter
    description: |
        The "use password button" of the password generator bottom sheet was clicked.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/21248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/issues/21248
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Microsurvey
microsurvey:
  shown:
    type: event
    description: |
        The survey surface (bottom sheet) was shown and visible.
    extra_keys:
      survey_id:
        type: string
        description: |
          The id of the survey.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19506
      - https://github.com/mozilla-mobile/firefox-ios/issues/20875
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/20801
      - https://github.com/mozilla-mobile/firefox-ios/pull/20903
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  privacy_notice_tapped:
    type: event
    description: |
        Records that the user tapped on the privacy notice.
    extra_keys:
      survey_id:
        type: string
        description: |
          The id of the survey.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19506
      - https://github.com/mozilla-mobile/firefox-ios/issues/20875
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/20801
      - https://github.com/mozilla-mobile/firefox-ios/pull/20903
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - interaction
    expires: "2025-07-01"

  dismiss_button_tapped:
    type: event
    description: |
        Records that the user tapped on the close button to dismiss the survey.
    extra_keys:
      survey_id:
        type: string
        description: |
          The id of the survey.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19506
      - https://github.com/mozilla-mobile/firefox-ios/issues/20875
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/20801
      - https://github.com/mozilla-mobile/firefox-ios/pull/20903
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - interaction
    expires: "2025-07-01"

  submit_button_tapped:
    type: event
    description: |
        Records that the user tapped on the submit button to respond to the survey.
    extra_keys:
      user_selection:
        type: string
        description: |
          The user's selected option e.g. "satisfied".
      survey_id:
        type: string
        description: |
          The id of the survey.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19506
      - https://github.com/mozilla-mobile/firefox-ios/issues/20875
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/20801
      - https://github.com/mozilla-mobile/firefox-ios/pull/20903
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - interaction
    expires: "2025-07-01"

  confirmation_shown:
    type: event
    description: |
        Records that the confirmation message in the survey has been viewed by the user.
    extra_keys:
      survey_id:
        type: string
        description: |
          The id of the survey.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/20800
      - https://github.com/mozilla-mobile/firefox-ios/issues/20875
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/20840
      - https://github.com/mozilla-mobile/firefox-ios/pull/20903
    notification_emails:
        - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Shopping Experience (Fakespot)
shopping:
  product_page_visits:
    type: counter
    description: |
      A count of the number of eligible product pages the user has visited.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16539
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16635
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  ads_exposure:
    type: event
    description: |
      On a supported product page, the review checker showed analysis, and
      the ads exposure pref was enabled, or review checker ads were enabled,
      and when we tried to fetch an ad from the ad server, an ad was available.
      Does not indicate whether the ad was actually shown.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17306
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17493
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    send_in_pings:
      - events

  surface_no_ads_available:
    type: event
    description: |
      On a supported product page, the review checker
      showed analysis, and review checker ads were enabled,
      but when we tried to fetch an ad from the ad server,
      no ad was available.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17301
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17663
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    send_in_pings:
      - events

  surface_ads_impression:
    type: event
    description: |
      An ad was shown and visible in the bottom sheet for 1.5 seconds.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17302
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17524
    data_sensitivity:
      - interaction
    expires: "2025-07-01"
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    send_in_pings:
      - events

  surface_ads_clicked:
    type: event
    description: |
      An ad shown in the fakespot bar was clicked.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7752
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17861
    data_sensitivity:
      - interaction
    expires: "2025-07-01"
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    send_in_pings:
      - events

  address_bar_icon_clicked:
    type: event
    description: |
      Records when the shopping icon from the address bar is tapped
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15681
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15780
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  address_bar_icon_displayed:
    type: event
    description: |
      Records when the shopping icon from the address bar is displayed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15679
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16282
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_closed:
    type: event
    description: |
      Records when the surface (bottom sheet) is dismissed
    extra_keys:
      action:
        type: string
        description: |
          Records how the surface was closed:
          "close-button/click-outside/interaction-with-a-link/swiping-the-surface-handle/opting-out-of-the-feature"
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15681
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15780
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_show_more_recent_reviews_clicked:
    type: event
    description: |
      Records when the show more button of the recent reviews card is clicked
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15470
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16279
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_displayed:
    type: event
    description: |
      Records when the surface (bottom sheet) is displayed
    extra_keys:
      size:
        type: string
        description: |
          Records the state of the bottom sheet:
          "half-view / full-view"
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16272
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_settings_expand_clicked:
    type: event
    description: |
      Records when the Settings Card's header or chevron button is tapped and the card expands
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16247
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16367
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_onboarding_displayed:
    type: event
    description: |
      Records when the shopping surface onboarding is displayed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16249
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16506
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_opt_in_accepted:
    type: event
    description: |
      Records when the shopping surface opt in is accepted
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15477
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16411
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_not_now_clicked:
    type: event
    description: |
      Records when the shopping surface opt in is dismissed from the not now button
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15477
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16411
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_show_terms_clicked:
    type: event
    description: |
      Records when the terms of use is clicked in the shopping surface opt in
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15477
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16411
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_show_privacy_policy_clicked:
    type: event
    description: |
      Records when the privacy policy is clicked in the shopping surface opt in
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15477
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16411
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_learn_more_clicked:
    type: event
    description: |
      Records when the learn more button in the shopping surface opt in is displayed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15477
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16411
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_show_quality_explainer_clicked:
    type: event
    description: |
      Records when the Learn more about how Fakespot determines review quality link is tapped
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16466
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16503
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  address_bar_feature_callout_displayed:
    type: event
    description: |
      Records an event everytime a shopping CFR is shown on the screen
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15461
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16593
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_powered_by_fakespot_link_clicked:
    type: event
    description: |
      Records an event when the user taps on
      'Review checker is powered by Fakespot by mozilla' link.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16633
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16655
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_analyze_reviews_none_available_clicked:
    type: event
    description: |
      Records an event when the user taps on
      analyzer button from the 'No Analysis Card'.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16631
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16721
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_reanalyze_clicked:
    type: event
    description: |
      Records an event when the user taps on
      primary button from the 'Needs Analysis Card'.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16631
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16721
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_no_review_reliability_available:
    type: event
    description: |
      Records an event when the Fakespot API doesn't return a grade.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16630
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16750
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_stale_analysis_shown:
    type: event
    description: |
      Records an event when the "New info to check" card is shown.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16632
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16782
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_reactivated_button_clicked:
    type: event
    description: |
      Records an event when a user reports a product as back in stock.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17145
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17230
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  surface_ads_setting_toggled:
    type: event
    description: |
      Whether the user has opted in for ads
    extra_keys:
      is_enabled:
        type: boolean
        description: |
          Is enabled when the user has opted in for ads
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17303
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17681
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

shopping.settings:
  nimbus_disabled_shopping:
    type: boolean
    lifetime: application
    description: |
      Indicates if Nimbus has disabled the use the shopping component.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16694
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16780
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    send_in_pings:
      - metrics

  component_opted_out:
    type: boolean
    lifetime: application
    description: |
      Indicates if the user has opted out of using the shopping component.
      Set in BrowserViewController and updated when changed by user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16694
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16780
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    send_in_pings:
      - metrics

  user_has_onboarded:
    type: boolean
    lifetime: application
    description: |
      Indicates if the user has completed the Shopping product Onboarding
      experience. Set in BrowserViewController and updated when changed by user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16694
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16780
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    send_in_pings:
      - metrics

  disabled_ads:
    type: boolean
    lifetime: application
    description: |
      Indicates if the user has opted out of being shown ads in the Fakespot screen
      experience. Set in BrowserViewController and updated when changed by user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17304
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17930
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    send_in_pings:
      - metrics

# Metrics related to the App Settings
settings.app_icon:
  selected:
    type: event
    description: |
      Records when the user changes their app icon in the app settings.
    extra_keys:
      new_name:
        type: string
        description: |
          The name of the new app icon the user has selected. Options
          are listed in the AppIcon enumeration.
      old_name:
        type: string
        description: |
          The name of the app icon the user had previously selected.
          Returns "unknown" if the previous icon had an invalid name.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-11473
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/25029
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
    metadata:
      tags:
        - AppIconSelection
        - Settings

# Settings main menu
settings.main_menu:
  option_selected:
    type: event
    description: |
      Records when the user taps an option in the app settings main menu.
    extra_keys:
      option:
        type: string
        description: |
          The option type selected from the settings main menu.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-11473
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/25029
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
    metadata:
      tags:
        - Settings

# Key Commands
key_commands:
  press_key_command_action:
    type: event
    description: |
      Records when a key command action is triggered
    extra_keys:
      action:
        type: string
        description: |
          Records the action:
          "close-tab/close-all-tabs/enter-tab/new-tab/select-tab/previous-tab/etc"
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10777
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Onboarding metrics
onboarding:
  terms_of_service_card:
    type: event
    description: |
      User viewed the terms of service onboarding card.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-10733
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24123
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  terms_of_service_accepted:
    type: event
    description: |
      User clicked accept button on the terms of service onboarding card.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-10733
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24123
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  terms_of_service_link_clicked:
    type: event
    description: |
      User clicked the terms of service link on the onboarding card.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-10733
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24123
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  terms_of_service_manage_link_clicked:
    type: event
    description: |
      User clicked the manage link on the terms of service onboarding card.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-10733
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24123
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  terms_of_service_privacy_notice_link_clicked:
    type: event
    description: |
      User clicked the privacy policy link on the terms of service onboarding card.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-10733
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24123
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  toggle_technical_interaction_data:
    type: event
    description: |
      User toggled the preference to share technical and interaction data from the manage modal on the terms of service onboarding card.
    extra_keys:
      changed_to:
        type: boolean
        description: |
          The value of the technical interaction data switch.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-10733
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24123
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  toggle_automatic_crash_reports:
    type: event
    description: |
      User toggled the preference to automatically send crash reports from the manage modal on the terms of service onboarding card.
    extra_keys:
      changed_to:
        type: boolean
        description: |
          The value of the automatic crash reports switch.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-10733
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24123
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  card_view:
    type: event
    description: |
      Records when an onboarding card is shown
    extra_keys:
      card_type:
        type: string
        description: |
          The name of the presented card.
      sequence_id:
        type: string
        description: |
          The sequence of the cards in the current branch.
      sequence_position:
        type: string
        description: |
          The position of the card in the current branch.
      flow_type:
        type: string
        description: |
          Whether it's a fresh install or an upgrade flow
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/14566
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/14566
      - https://github.com/mozilla-mobile/firefox-ios/pull/10984
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  primary_button_tap:
    type: event
    description: |
      Records when the primary button is tap during the onboarding
    extra_keys:
      card_type:
        type: string
        description: |
          Presented onboarding card (welcome / wallpapers / sign to sync)
      sequence_id:
        type: string
        description: |
          The sequence of the cards in the current branch.
      sequence_position:
        type: string
        description: |
          The position of the card in the current branch.
      flow_type:
        type: string
        description: |
          Whether it's a fresh install or an upgrade flow
      button_action:
        type: string
        description: |
          The action that the button would lead to.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/14566
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/14566
      - https://github.com/mozilla-mobile/firefox-ios/pull/10984
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  secondary_button_tap:
    type: event
    description: |
      Records when the secondary button is tap during the onboarding
    extra_keys:
      card_type:
        type: string
        description: |
          Presented onboarding card (welcome / wallpapers / sign to sync)
      sequence_id:
        type: string
        description: |
          The sequence of the cards in the current branch.
      sequence_position:
        type: string
        description: |
          The position of the card in the current branch.
      flow_type:
        type: string
        description: |
          Whether it's a fresh install or an upgrade flow
      button_action:
        type: string
        description: |
          The action that the button would lead to.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/14566
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/14566
      - https://github.com/mozilla-mobile/firefox-ios/pull/10984
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  multiple_choice_button_tap:
    type: event
    description: |
      Records when a multiple choice button is tapped during the onboarding
    extra_keys:
      card_type:
        type: string
        description: |
          Presented onboarding card
      sequence_id:
        type: string
        description: |
          The sequence of the cards in the current branch.
      sequence_position:
        type: string
        description: |
          The position of the card in the current branch.
      flow_type:
        type: string
        description: |
          Whether it's a fresh install or an upgrade flow
      button_action:
        type: string
        description: |
          The action that the button would lead to.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18358
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19678
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  close_tap:
    type: event
    description: |
      Records when the user closes the onboarding.
    extra_keys:
      card_type:
        type: string
        description: |
          The card presented when the onboarding was closed
      sequence_id:
        type: string
        description: |
          The sequence of the cards in the current branch.
      sequence_position:
        type: string
        description: |
          The position of the card in the current branch.
      flow_type:
        type: string
        description: |
          Whether it's a fresh install or an upgrade flow
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/14566
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/14566
      - https://github.com/mozilla-mobile/firefox-ios/pull/10984
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  wallpaper_selected:
    type: event
    description: |
      Recorded when the user selects a wallpaper from
      the wallpaper onboarding screen.
    extra_keys:
      wallpaper_name:
        type: string
        description: |
          The name of the wallpaper set.
      wallpaper_type:
        type: string
        description: |
          The name of the wallpaper set.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10984
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10984
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  wallpaper_selector_view:
    type: event
    description: |
      Recorded when the wallpaper onboarding bottom sheet is shown to the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11675
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11675
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  wallpaper_selector_close:
    type: event
    description: |
      Recorded when the wallpaper onboarding bottom sheet
      is dismissed by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11675
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11675
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  wallpaper_selector_selected:
    type: event
    description: |
      Recorded when the user selects a wallpaper from
      the wallpaper onboarding bottom sheet. Wallpaper information
      is sent in the extra keys.
    extra_keys:
      wallpaper_name:
        type: string
        description: |
          The name of the wallpaper set.
      wallpaper_type:
        type: string
        description: |
          The name of the wallpaper set.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11675
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11675
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  notification_permission_prompt:
    type: event
    description: |
      Records the users decision to enable/disable notifications.
    extra_keys:
      granted:
        type: boolean
        description: |
          Whether the notification permission was granted.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/13039
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/13039
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  engagement_notification_tapped:
    type: event
    description: |
      Records the users interaction with the engagement notification.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/13652
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/13652
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  engagement_notification_cancel:
    type: event
    description: |
      Records the cancelation of a scheduled engagement notification.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/13652
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/13652
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Top Site
top_sites:
  tile_pressed:
    type: event
    description: |
      Records an event when user taps on top site tile.
    extra_keys:
      tile_type:
        type: string
        description: |
          Type of tile pressed (Ex: google,
          suggested, user-added or history-based)
      position:
        type: string
        description: |
          Position of top site.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8501
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8662
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  pressed_tile_origin:
    type: labeled_counter
    description: |
      Records an event when user taps on top site tile,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9308
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  contextual_menu:
    type: event
    description: |
        Records when a user clicks on a contextual
        menu option on top site
    extra_keys:
      type:
        type: string
        description: |
          Type of contextual action
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10514
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10514
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  context_id:
    type: uuid
    description: |
      A UUID that is unjoinable with other browser metrics. This ID will not be
      shared with AdM, only for internal uses. This ID is shared across all
      contextual services features.
    lifetime: application
    send_in_pings:
      - topsites-impression
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - highly_sensitive
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    metadata:
      tags:
        - TopSites
  contile_tile_id:
    type: quantity
    description: |
      A unique identifier provided by the AdM for the sponsored TopSites tile
    lifetime: ping
    send_in_pings:
      - topsites-impression
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    unit: integer
    metadata:
      tags:
        - TopSites
  contile_advertiser:
    type: string
    description: |
      Advertiser brand for the sponsored TopSites tile
    lifetime: ping
    send_in_pings:
      - topsites-impression
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    metadata:
      tags:
        - TopSites
  contile_reporting_url:
    type: url
    description: |
      The AdM reporting endpoint (impression_url for impression event,
      click_url for click event).
    lifetime: ping
    send_in_pings:
      - topsites-impression
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    metadata:
      tags:
        - TopSites
  contile_impression:
    type: event
    description: |
      A user saw a Contile top site
    extra_keys:
      source:
        description: The source of the event, example "newtab", "urlbar"
        type: string
      position:
        description: The tile placement (1-based)
        type: quantity
    send_in_pings:
      - topsites-impression
      - events
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    metadata:
      tags:
        - TopSites
  contile_click:
    type: event
    description: |
      A user clicked a Contile top site
    extra_keys:
      source:
        description: The source of the event, example "newtab", "urlbar"
        type: string
      position:
        description: The tile placement (1-based)
        type: quantity
    send_in_pings:
      - topsites-impression
      - events
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10696
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    metadata:
      tags:
        - TopSites
  open_in_private_tab:
    type: event
    description: |
      A user opens a new private tab based on a top site item
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14903
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15503
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  sponsored_shortcuts:
    type: boolean
    description: |
      Tracks if the user has enabled sponsored shortcuts
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1842084
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15768
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
# HomePage - Normal
firefox_home_page:
  open_from_menu_home_button:
    type: counter
    description: |
        Counts when user opens Firefox Home from
        bottom right hamburger menu Home button
        and New Tab button.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8481
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8662
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  open_from_awesomebar:
    type: counter
    description: |
        Counts when a user opens Firefox Home
        from awesomebar.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8481
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8662
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  recently_saved_show_all:
    type: counter
    description: |
      Counts the number of times a user taps the Show All
      button of the Recently Saved Section
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8656
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8656
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  recently_saved_show_all_origin:
    type: labeled_counter
    description: |
      Counts the number of times a user taps the Show All
      button of the Recently Saved Section,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9308
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  recently_saved_bookmark_item:
    type: counter
    description: |
      Counts the number of times a bookmarked item in
      the Recently Saved section is tapped
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8656
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8656
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  recently_saved_bookmark_origin:
    type: labeled_counter
    description: |
      Counts the number of times a bookmarked item in
      the Recently Saved section is tapped,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9308
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  recently_saved_bookmark_view:
    type: event
    description: |
      Counts the number of bookmarked items appearing
      in the Recently Saved section on the home page.
    extra_keys:
      bookmark_count:
        type: string
        description: |
          The number of bookmarked items in the
          Recently Saved section.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8656
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8656
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  reading_list_view:
    type: event
    description: |
      Counts the number of reading list items
      appearing in the Recently Saved section
      on the Firefox home page.
    extra_keys:
      reading_list_count:
        type: string
        description: |
          The number of reading list items in the
          Recently Saved section.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8753
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8753
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  recently_saved_reading_item:
    type: counter
    description: |
      Counts the number of times a reading list
      item in the Recently Saved section is tapped.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8753
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8753
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  recently_saved_read_origin:
    type: labeled_counter
    description: |
      Counts the number of times a reading list
      item in the Recently Saved section is tapped,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  jump_back_in_show_all:
    type: counter
    description: |
      Counts the number of times a user taps the
      Show All button in the Jump Back In section.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8905
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8905
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  jump_back_in_show_all_origin:
    type: labeled_counter
    description: |
      Counts the number of times a user taps the
      Show All button in the Jump Back In section,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  jump_back_in_tile_view:
    type: counter
    description: |
      Counts the number of times a user sees a Jump Back In tile
      in the Jump Back In section on the homepage
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  jump_back_in_tab_opened:
    type: counter
    description: |
      Counts the number of times a user taps to open an
      existing tab from the Jump Back In section
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8905
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8905
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  jump_back_in_tab_opened_origin:
    type: labeled_counter
    description: |
      Counts the number of times a user taps to open an
      existing tab from the Jump Back In section,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  jump_back_in_group_opened:
    type: counter
    description: |
      Counts the number of times a user taps to open an
      existing group from the Jump Back In section
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8905
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8905
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  jump_back_in_group_open_origin:
    type: labeled_counter
    description: |
      Counts the number of times a user taps to open an
      existing group from the Jump Back In section,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  synced_tab_tile_view:
    type: counter
    description: |
      Counts the number of times a user sees the
      Synced Tab tile on the homepage
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  synced_tab_show_all:
    type: counter
    description: |
      Counts the number of times a user taps the
      Show All button of Synced Tab in the Jump Back In section.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  synced_tab_show_all_origin:
    type: labeled_counter
    description: |
      Counts the number of times a user taps the
      Show All button of Synced Tab in the Jump Back In section,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  synced_tab_opened:
    type: counter
    description: |
      Counts the number of times a user taps to open a
      synced tab from the Jump Back In section
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  synced_tab_opened_origin:
    type: labeled_counter
    description: |
      Counts the number of times a user taps to open a
      synced tab from the Jump Back In section,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11519
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  customize_homepage_button:
    type: counter
    description: |
      Counts the number of times a user taps to open the
      settings menu to customize the Firefox Homepage
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9272
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9272
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  firefox_homepage_view:
    type: counter
    description: |
      The number of times a user sees the Firefox Homepage
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9405
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9405
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  firefox_homepage_origin:
    type: labeled_counter
    description: |
      The number of times a user sees the Firefox Homepage,
      with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  history_highlights_show_all:
    type: counter
    description: |
      Counts the number of times a user taps the
      Show All button in the History section
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9563
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9563
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  history_highlights_item_opened:
    type: event
    description: |
      Counts the number of times a user taps to open an
      existing tab from the History Highlights section
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9563
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9563
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/10516
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  history_impressions:
    type: event
    description: |
      Records the number of times a user views
      history highlights section
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18088
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/18068
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  history_highlights_group_open:
    type: event
    description: |
      Records the event where a user taps on a group item
      within the History Highlights (Recently Visited) section.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10516
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10516
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  history_highlights_context:
    type: event
    description: |
        Records when a user clicks on a contextual
        menu option on a history highlight
    extra_keys:
      type:
        type: string
        description: |
          Type of contextual action
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11003
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11003
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  pocket_stories_visible:
    type: boolean
    description: |
      Measures the state of the show Pocket stories preference.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8709
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11171
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Metrics related to the history panel of the library
library:
  panel_pressed:
    type: labeled_counter
    description: |
      Counts the number of times a specific library panel
      button is tapped for Bookmarks, History, Reading List,
      Downloads and Synced tabs
    labels:
      - bookmarks-panel
      - history-panel
      - reading-panel
      - downloads-panel
      - sync-panel
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8035
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8152
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Library
library.history_panel:
  cleared_history: 
    type: event
    description: |
      A user deleted history entries from a certain timeframe
    extra_keys:
      timeframe:
        type: string
        description: |
          The timeframe all history was cleared from
          Options are listed in the HistoryDeletionUtilityDateOptions enum
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/24790
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/25614
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    metadata:
      tags:
        - HistoryPanel
        - Library

# History Panel
history:
  opened:
    type: event
    description: |
      A user opened the history screen.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14905
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15696
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  group_list:
    type: counter
    description: |
      Counts the number of times a user has selected a
      search term group inside the history panel. Selecting
      this item will navigate them to a view containing a list
      of all Site items that appear in that group.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10212
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10212
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  selected_item:
    type: labeled_counter
    description: |
      Counts the number of times a user selected an item from
      the history panel. This labeled counter will tell apart
      items that appear inside a group, and those that do not.
    labels:
      - group-item
      - non-grouped-item
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10212
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10212
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  opened_item:
    type: event
    description: |
      Recorded when a user opened a history item
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17296
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17462
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  search_tap:
    type: event
    description: |
      Recorded when a user taps on search icon in history panel
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9438
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10494
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  delete_tap:
    type: event
    description: |
      Recorded when a user taps on trash icon in history panel
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10020
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10494
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  removed:
    type: event
    description: |
      A user removed a history item.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14905
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15696
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Legacy IDs for continuity and for deletion-request
legacy.ids:
  client_id:
    type: uuid
    lifetime: user
    description: |
      The client id from legacy telemetry.
    send_in_pings:
      - deletion-request
      - metrics
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1635427
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1635427
      - https://github.com/mozilla-mobile/firefox-ios/pull/8522#issuecomment-846313960
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never

deletion:
  sync_device_id:
    type: string
    lifetime: user
    description: |
      The FxA device id.
    send_in_pings:
      - deletion-request
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/6933
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7629#issuecomment-723312428
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never

# Page Action menu
page_action_menu:
  share_page_with:
    type: counter
    description: |
        Counts the number of times a user taps Share Page With in the
        page action menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  send_to_device:
    type: counter
    description: |
        Counts the number of times a user taps Send to Device
        in the page action menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  copy_address:
    type: counter
    description: |
        Counts the number of times a user taps Copy Address
        in the page action menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  report_site_issue:
    type: counter
    description: |
        Counts the number of times a user taps Report Site Issue
        in the page action menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  find_in_page:
    type: counter
    description: |
        Counts the number of times a user taps Find in Page
        in the page action menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  request_desktop_site:
    type: counter
    description: |
        Counts the number of times a user taps Request Desktop Site
        in the page action menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  request_mobile_site:
    type: counter
    description: |
        Counts the number of times a user taps Request Mobile Site
        in the page action menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  pin_to_top_sites:
    type: counter
    description: |
        Counts the number of times a user taps Pin to Top Sites
        in the page action menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  remove_pinned_site:
    type: counter
    description: |
        Counts the number of times a user taps Pin to Top Sites
        in the page action menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8147
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8167
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  view_downloads_panel:
    type: counter
    description: |
      Counts the number of times a user navigates to the downloads panel
      from the page action menu.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/11029
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11714
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  view_history_panel:
    type: counter
    description: |
      Counts the number of times a user navigates to the history panel
      from the page action menu.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/11029
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11714
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  create_new_tab:
    type: counter
    description: |
      Counts the number of times a user creates a new tab from the
      page action menu.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/11029
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11714
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Pocket
pocket:
  open_story_position:
    type: labeled_counter
    description: |
        Counts when a user opens Pocket article from
        Firefox Home Pocket feed.
        The label is position of tile i.e. 0,1,2...
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8481
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8662
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  section_impressions:
    type: counter
    description: |
        Counts when a user gets to pocket section
        on Firefox Home
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8481
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8662
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  open_story_origin:
    type: labeled_counter
    description: |
      Records when a user opens Pocket article from
      Firefox Home Pocket feed, with a home page origin.
    labels:
      - zero-search
      - origin-other
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9308
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9494
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  open_in_private_tab:
    type: event
    description: |
      A user opens a new private tab based on a pocket story item
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14903
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15503
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
# Preference metrics
preferences:
  changed:
    type: event
    description: |
      Recorded when a preference is changed and includes the
      preference that changed as well as the value changed to
      recorded in the extra keys.
    extra_keys:
      preference:
        type: string
        description: |
          The preference that was changed.
      changed_to:
        type: string
        description: |
          The value the preference was changed to.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  new_tab_experience:
    type: string
    description: |
      The name of the view that the user wants to see on new tabs.
      For example History, Homepage or Blank. It is used to measure
      usage of this feature, to see how effective feature promotion
      campaigns are and to establish a baseline number for when we
      introduce the new Activity Stream features.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  home_page_setting:
    type: string
    description: |
      The setting a user chooses as their Home page. By default,
      it is initially set to Firefox Home.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8887
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8887
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  save_logins:
    type: boolean
    description: |
      Measures the state of the "Save Logins" preference.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  show_clipboard_bar:
    type: boolean
    description: |
      Measures the state of the "Show Clipboard Bar" preference.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  tips_and_features_notifs:
    type: boolean
    description: |
      True if notifications for tips and features are allowed, otherwise false.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14907
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15114
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  sync_notifs:
    type: boolean
    description: |
      True if notifications for sync are allowed, otherwise false.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14907
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15114
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  fxa_logged_in:
    type: boolean
    description: |
      Measures the state of the fxa login.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14904
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15181
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  close_private_tabs:
    type: boolean
    description: |
      Measures the state of the "Close Private Tabs" preference.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  jump_back_in:
    type: boolean
    description: |
      An indication of whether the Jump back in section
      is enabled to be displayed.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14908
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15583
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  recently_visited:
    type: boolean
    description: |
      An indication of whether the Recently visited section
      is enabled to be displayed.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14908
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15583
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  recently_saved:
    type: boolean
    description: |
      An indication of whether the recently saved section
      is enabled to be displayed.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14908
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15583
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  pocket:
    type: boolean
    description: |
      An indication of whether Pocket is enabled to be displayed.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14908
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15583
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  opening_screen:
    type: string
    description: |
      What opening screen preference the user has selected under
      "Customize Home". "homepage," "last tab," or
      "homepage after 4 hours" default: "homepage after 4 hours".
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14908
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15583
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  private_browsing_button_tapped:
    type: event
    description: |
      Records when the private browsing button is tapped
    extra_keys:
      is_private:
        type: string
        description: |
          If the button is tapped or not (true / false)
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10734
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10734
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autoplay_setting_changed:
    type: event
    description: |
      Event for user changing the autoplay setting
    extra_keys:
      media_type:
        type: string
        description: |
          We either send "allowAudioAndVideo", "blockAudio" or "blockAudioAndVideo".
          Default is "allowAudioAndVideo".
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/12862
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/TODO
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Private Browsing
private_browsing:
  data_clearance_icon_tapped:
    type: event
    description: |
      Records when the private browsing button is tapped.
    extra_keys:
      did_confirm:
       type: boolean
       description: |
         Whether the user confirmed the reset action via the confirmation dialog.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18078
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/18080
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Password Manager metrics
logins:
  autofilled:
    type: event
    description: |
      Records when the user has autofilled a login.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_failed:
    type: event
    description: |
      Records when the user has failed to autofill a password.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  management_add_tapped:
    type: event
    description: |
      Records when the user has tapped the add button through password management in the settings menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  management_logins_tapped:
    type: event
    description: |
      Records when the user has tapped on a saved login through password management in the setting menu.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  saved:
    type: counter
    description: |
      A counter of the number of passwords that have been saved by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  saved_all:
    type: quantity
    description: |
      Record the number of ALL the passwords that have been currently stored by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    unit: quantity of logins.saved_all
  deleted:
    type: counter
    description: |
      A counter of the number of passwords that have been deleted by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  modified:
    type: counter
    description: |
      A counter of the number of passwords that have been modified by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  sync_enabled:
    type: event
    description: |
      Whether the user has logins enabled in sync option
    send_in_pings:
      - events
    extra_keys:
      is_enabled:
        type: boolean
        description: |
          Is enabled when the sync is started
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_prompt_shown:
    type: event
    description: |
      Password autofill prompt was shown.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19722
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19791
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_prompt_expanded:
    type: event
    description: |
      Password autofill prompt was expanded.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19722
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19791
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_prompt_dismissed:
    type: event
    description: |
      Password autofill prompt was dismissed.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19722
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19791
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
# QR Code metrics
qr_code:
  scanned:
    type: counter
    description: |
      Counts the number of times a QR code is scanned.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Reading List metrics
reading_list:
  add:
    type: labeled_counter
    description: |
      Counts the number of times an item is added to the reading
      list from the following:
      * Reader Mode Toolbar
      * Share Extension
      * Page Action Menu
    labels:
      - reader-mode-toolbar
      - share-extension
      - page-action-menu
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  open:
    type: counter
    description: |
      Counts the number of times an item is opened from the
      Reading List
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  delete:
    type: labeled_counter
    description: |
      Counts the number of times an item is added to the
      reading list from the following:
      * Reader Mode Toolbar
      * Reading List Panel
    labels:
      - reader-mode-toolbar
      - reading-list-panel
      - page-action-menu
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Reader Mode metrics
reader_mode:
  open:
    type: counter
    description: |
      Counts how many times the reader mode is opened.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  close:
    type: counter
    description: |
      Counts how many times the reader mode is closed.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Default Browser Settings Menu Option
settings_menu:
  set_as_default_browser_pressed:
    type: counter
    description: |
      Counts the number of times setting as default
      browser menu option is tapped.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7090
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7090
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://github.com/mozilla-mobile/firefox-ios/pull/16375
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  show_tour_pressed:
    type: event
    description: |
      Metric recorded when a user taps on the Show Tour option
      from the app settings menu.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/12433
      - https://github.com/mozilla-mobile/firefox-ios/issues/13814
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12462
      - https://github.com/mozilla-mobile/firefox-ios/pull/13827
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  passwords:
    type: event
    description: |
      Records when the user taps Passwords in the settings menu
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14902
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16685
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
# Search and search related metrics
search:
  counts:
    type: labeled_counter
    description: |
      The labels for this counter are `{search-engine-name}.{source}`

      If the search engine is bundled with Firefox-iOS, then
      `search-engine-name` will be the name of the search engine. If
      it is a custom search engine, the value will be `custom`.

      The value of `source` will reflect the source from which the
      search started.  One of:
      * quicksearch
      * suggestion
      * actionbar
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1923843
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1923843
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
  default_engine:
    type: string
    lifetime: application
    description: |
      The default search engine identifier if the search engine is
      pre-loaded with Firefox-iOS.  If it's a custom search engine,
      then the value will be 'custom'.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1923843
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1923843
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
  start_search_pressed:
    type: counter
    description: |
      Counts the number of times the start search button is
      pressed
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  in_content:
    type: labeled_counter
    description: |
      Records the type of interaction a user has on SERP pages.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7602
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1923843
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7702
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1923843
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
  google_topsite_pressed:
    type: labeled_counter
    description: |
      Counts the number of times the google top site button
      is pressed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7965
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7965
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Sync
sync:
  open_tab:
    type: counter
    description: |
        Counts the number of times a user opens
        synced tab
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8035
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8152
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  sign_in_sync_pressed:
    type: counter
    description: |
        Counts the number of times a user taps
        on sign in to sync button in sync
        library view
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8035
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8152
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  create_account_pressed:
    type: counter
    description: |
        Counts the number of times a user taps
        on create account button in sync library view
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/8035
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8152
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  registration_view:
    type: event
    description: |
      Recorded when user opens a registration fxa page
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9946
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10254
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  registration_completed_view:
    type: event
    description: |
      Recorded when user opens successfully completes registration
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9946
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10254
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  login_view:
    type: event
    description: |
      Recorded when user opens login fxa page
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9946
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10254
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  login_completed_view:
    type: event
    description: |
      Recorded when user successfully logs in
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9946
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10254
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  login_token_view:
    type: event
    description: |
      Recorded when user is on fxa webpage to confirm signin token
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9946
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10254
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  registration_code_view:
    type: event
    description: |
      Recorded when user is on fxa webpage to confirm signup code
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9946
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10254
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  use_email:
    type: event
    description: |
      A user chose to use their email to attempt a sign in instead
      of scanning a QR code, counterpart to "scan_pairing".
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14904
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15181
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  paired:
    type: event
    description: |
      A user scanned QR code to attempt to sign in.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14904
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15181
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  disconnect:
    type: event
    description: |
      A user tapped disconnect sync in fxa page.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14904
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15181
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"


# Tab metrics
tabs:
  normal_tabs_quantity:
    type: quantity
    description: |
      A snapshot of how many normal tabs a user has opened when he
      closes the application.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9627
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10272
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    unit: quantity of normal tabs
  private_tabs_quantity:
    type: quantity
    description: |
      A snapshot of how many private tabs a user has opened when he
      closes the application.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9627
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10272
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    unit: quantity of private tabs
  inactive_tabs_count:
    type: quantity
    description: |
      A quantity that indicates how many INACTIVE tabs a user
      currently has open. This is reported when the user backgrounds
      the app.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14906
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/issues/15511
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    unit: quantity of inactive tabs
  cumulative_count:
    type: counter
    description: |
      Measures the current open tab count as the application
      goes to background. Each background event adds to this
      metric, making it the cumulative sum of all open tabs
      when the app goes to background during the period of
      time covered by a single metrics ping. This can be
      divided by the number of baseline pings with
      `ping_info.reason="inactive"` from the `start_time` to
      the `end_time` of the metrics ping to determine the
      average open tabs per foreground "session".
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  open:
    type: labeled_counter
    description: |
      The count of tabs opened by the user. Increments the
      appropriate label when either a normal or private tab
      is opened.
    labels:
      - normal-tab
      - private-tab
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  close:
    type: labeled_counter
    description: |
      The count of tabs closed by the user. Increments the
      appropriate label when either a normal or private tab
      is closed.
    labels:
      - normal-tab
      - private-tab
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  close_all:
    type: labeled_counter
    description: |
      The count of times the user closes all tabs. Increments the
      appropriate label when either a normal or private tab
      is closed.
    labels:
      - normal-tab
      - private-tab
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7008
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7008
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  new_tab_pressed:
    type: counter
    description: |
      Counts the number of times the add new tab button is
      pressed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/6886
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/issues/6886
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  click_tab:
    type: event
    description: |
      Recorded when a user clicks an open tab
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7526
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7635
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  open_tab_tray:
    type: event
    description: |
      Recorded when a user opens the tab tray
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7526
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7635
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  close_tab_tray:
    type: event
    description: |
      Recorded when a user closes the tab tray
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7526
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7635
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  pull_to_refresh:
    type: event
    description: |
      Record event when user has executed pull to refresh.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23225
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9136
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://github.com/mozilla-mobile/firefox-ios/pull/23252
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  pull_to_refresh_easter_egg:
    type: event
    description: |
      Record event when user has discovered the Easter egg.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23225
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23252
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  normal_and_private_uri_count:
    type: counter
    description: |
      Record the number of URI's visited by the user.
    send_in_pings:
      - baseline
      - metrics
    no_lint:
      - BASELINE_PING
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9158
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9504
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  grouped_tab:
    type: event
    description: |
      Recorded when a user opens the tab tray with grouped tab
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9134
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9134
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    extra_keys:
      total_num_of_groups:
        description:
          Total number of groups in tab tray
        type: quantity
      groups_two_tabs_only:
        description:
          Total number of groups with only 2 tabs
        type: quantity
      groups_with_more_than_two_tab:
        description:
          Total number of groups with more than 2 tabs
        type: quantity
      average_tabs_in_all_groups:
        description:
          Average number of tabs in all groups
        type: quantity
      total_tabs_in_all_groups:
        description:
          Total number of tabs in all groups
        type: quantity
    expires: "2025-07-01"
  grouped_tab_closed:
    type: counter
    description: |
      Recorded when a user closes the tab in a group
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9134
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9134
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  grouped_tab_search:
    type: counter
    description: |
      This counts the number of times a user has tapped the search
      icon for grouped tabs in the tab tray.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9267
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9267
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  navigate_tab_history_back:
    type: counter
    description: |
      This counts the number of times a user taps the back
      button on a tab's toolbar.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9278
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9785
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  navigate_tab_back_swipe:
    type: counter
    description: |
      This counts the number of times a user navigates back in tab
      history by swiping from the left edge of the device to the right.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9278
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9785
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  navigate_tab_history_forward:
    type: counter
    description: |
      This counts the number of times a user taps the forward
      button on a tab's toolbar.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9278
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9785
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  reload_from_url_bar:
    type: counter
    description: |
      This counts the number of times a user taps the reload
      button in the URL bar.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9278
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9785
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  press_tab_toolbar:
    type: event
    description: |
      Records when tab view button is pressed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10734
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10734
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  press_top_tab:
    type: event
    description: |
      Records when a top tab is pressed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10734
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10734
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  restore_tabs_alert:
    type: event
    description: |
      Recorded when a users choose an option on the restore tabs alert
    send_in_pings:
      - events
    extra_keys:
      is_enabled:
        type: boolean
        description: |
          Is enabled when the restore tabs is started
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-7378
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16515
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  tab_switch:
    type: timing_distribution
    time_unit: millisecond
    description: >
      Counts how long it takes to switch to another tab
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17717
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/18012
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never

# Toasts
toasts.close_single_tab:
  undo_tapped:
    type: event
    description: | 
      Records when the user selects undo after closing a tab.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-11714
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/25569
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
    metadata:
      tags:
        - Toasts
        - TabsPanel

toasts.close_all_tabs:
  undo_tapped:
    type: event
    description: | 
      Records when the user selects undo after closing all tabs.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-11714
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/25569
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
    metadata:
      tags:
        - Toasts
        - TabsPanel
  
# Enhanced Tracking Protection metrics
tracking_protection:
  enabled:
    type: boolean
    description: |
      Measures the state of the tracking-protection enabled
      preference.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  strength:
    type: string
    description: |
      A string representing the selected strength of the
      tracking-protection that is enabled. One of:
      * basic
      * strict
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1644846
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  etp_setting_changed:
    type: event
    description: |
      A user changed their tracking protection
      level setting to either strict or standard
    extra_keys:
      etp_setting:
       type: string
       description: |
         Records the protection level:
         standard / strict
      etp_enabled:
       type: boolean
       description: |
         Records the state
         true / false
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14903
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15503
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  show_clear_cookies_alert:
    type: event
    description: |
      Records when the clear cookies alert is shown
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/20371
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24252
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  show_etp_details:
    type: event
    description: |
      Records when the enhanced tracking protection details screen is shown
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/20371
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24252
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  show_etp_blocked_trackers_details:
    type: event
    description: |
      Records when the enhanced tracking protection blocked trackers details screen is shown
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/20371
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24252
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  show_etp_settings:
    type: event
    description: |
      Records when the enhanced tracking protection settings screen is shown
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/20371
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24252
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  tapped_clear_cookies:
    type: event
    description: |
      Records when the clear cookies button from the etp alert is tapped.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/20371
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24252
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  dismiss_etp_panel:
    type: event
    description: |
      Records when the enhanced tracking protection panel is dismissed
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/20371
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24252
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  show_certificates:
    type: event
    description: |
      Records when the certificates screen from the enhanced tracking protection panel is shown
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/20371
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24252
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
# iOS 14 widget metrics
# m: medium, s: small, l: large
widget:
  m_tabs_open_url:
    type: counter
    description: |
      Counts how many times the medium tabs widget opens url
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7097
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7681
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  l_tabs_open_url:
    type: counter
    description: |
      Counts how many times the large tabs widget opens url
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7097
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7681
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  s_quick_action_search:
    type: counter
    description: |
      Counts how many times small quick action
      widget opens firefox for regular search
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7097
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7681
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  m_quick_action_search:
    type: counter
    description: |
      Counts how many times medium quick action
      widget opens firefox for regular search
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7097
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7681
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  m_quick_action_private_search:
    type: counter
    description: |
       Counts how many times medium quick action
       widget opens firefox for private search
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7097
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7681
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  m_quick_action_copied_link:
    type: counter
    description: |
      Counts how many times medium quick action
      widget opens copied links
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7097
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7681
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  m_quick_action_close_private:
    type: counter
    description: |
      Counts how many times medium quick action
      widget closes private tabs
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7097
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7681
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  m_top_sites_widget:
    type: counter
    description: |
      Counts how many times user opens top site tabs
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7097
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/7681
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Wallpaper metrics
wallpaper_analytics:
  wallpaper_selected:
    type: event
    description: |
      Recorded when the user selects a wallpaper from
      the wallpaper settings screen. Wallpaper information
      is sent in the extra keys.
    extra_keys:
      wallpaper_name:
        type: string
        description: |
          The name of the wallpaper set.
      wallpaper_type:
        type: string
        description: |
          The name of the wallpaper set.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9930
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9930
      - https://github.com/mozilla-mobile/firefox-ios/pull/9930
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  themed_wallpaper:
    type: labeled_counter
    description: |
      Recorded when the user enters the background. This reports
      the currently selected wallpaper if it's not the default.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10669
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11019
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# CFR Metrics
cfr_analytics:
  dismiss_cfr_from_button:
    type: event
    description: |
      Recorded when the user dismisses a CFR by tapping
      the close button in the CFR. Hint type is sent
      in the extra keys.
    extra_keys:
      hint_type:
        type: string
        description: |
          The type of CFR being interacted with.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10064
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10064
      - https://github.com/mozilla-mobile/firefox-ios/pull/10064
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  dismiss_cfr_from_outside_tap:
    type: event
    description: |
      Recorded when the user dismisses a CFR by tapping
      outside the CFR. Hint type is sent in the extra keys.
    extra_keys:
      hint_type:
        type: string
        description: |
          The type of CFR being interacted with.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10064
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10064
      - https://github.com/mozilla-mobile/firefox-ios/pull/10064
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  press_cfr_action_button:
    type: event
    description: |
      Recorded when the user taps CFR's action button.
      Hint type is sent in the extra keys.
    extra_keys:
      hint_type:
        type: string
        description: |
          The type of CFR being interacted with.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10064
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10064
      - https://github.com/mozilla-mobile/firefox-ios/pull/10064
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Tabs Tray metrics
tabs_tray:
  private_browsing_icon_tapped:
    type: event
    description: |
      A user has tapped on the private browsing icon in tabs tray.
    extra_keys:
      action:
       type: string
       description: |
         Records the action:
         close_all_tabs / add / done
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14903
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15503
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  new_private_tab_tapped:
    type: event
    description: |
      A user opened a new private tab from the tab tray
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/14903
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15503
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
# Inactive Tabs metrics
inactive_tabs_tray:
  toggle_inactive_tab_tray:
    type: event
    description: |
      Counts the number of times user toggle (expand or collapse)
      inactive tab section.
    extra_keys:
      toggle_type:
        type: string
        description: |
          We either send "collapsed" or "expanded"
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
      - https://github.com/mozilla-mobile/firefox-ios/pull/8799
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  open_inactive_tab:
    type: counter
    description: |
      Recorded when a user taps on an inactive tab
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  inactive_tabs_close_all_btn:
    type: counter
    description: |
      Recorded when a user taps on close all inactive tabs button
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  inactive_tab_swipe_close:
    type: counter
    description: |
      Recorded when a user swipes to close an inactive tab
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  inactive_tab_shown:
    type: counter
    description: |
      Recorded when a user is shown inactive tab view
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9993
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

browser_search:
  with_ads:
    type: labeled_counter
    description: |
      Records counts of SERP pages with adverts displayed.
      The key format is `<provider-name>`.
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7616
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8970
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1923843
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  ad_clicks:
    type: labeled_counter
    description: |
      Records clicks of adverts on SERP pages.
      The key format is `<provider-name>`.
    send_in_pings:
      - metrics
      - baseline
    no_lint:
      - BASELINE_PING
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/7616
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1923843
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/8970
      - https://github.com/mozilla-mobile/firefox-ios/pull/9673
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1923843
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

installed_mozilla_products:
  klar:
    type: boolean
    lifetime: application
    description: |
       If Klar is installed on the users's device.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9089
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9090
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  focus:
    type: boolean
    lifetime: application
    description: |
       If Focus is installed on the users's device.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9089
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9090
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# URLbar related telemetry
urlbar:
  impression:
    type: event
    description: |
      Recorded when urlbar results are shown to the user
    extra_keys:
      reason:
        type: string
        description: |
          Reason for the impression. pause - recorded when the results
          were shown for at least 1s. Only one pause
                  is recorded for each search session.
      sap:
        type: string
        description: |
          Where the user action started, like urlbar or urlbar_newtab
      interaction:
        type: string
        description: |
          How the user started the search, by typing or pasting text
      search_mode:
        type: string
        description: |
          If the urlbar is in search mode, thus restricting results to a
          specific search engine or local source, this is set to the search
          mode source. For iOS the search starts from tabs
      n_chars:
        type: quantity
        description: |
         Number of typed characters
      n_words:
        type: quantity
        description: |
         Number of typed words (doesnt support CJK languages)
      n_results:
        type: quantity
        description: |
         Number of results, if this is high the results
         list below may be incomplete due to size limits
      groups:
        type: string
        description: |
          Comma separated list of result groups in order, groups may be
          repeated, since the list will match 1:1 the results list, so we
          Can link each result to a group, like  heuristic, adaptive_history,
           search_history, search_suggest, top_pick, top_site, remote_tab, addon,
            general, suggest
      results:
        type: string
        description: |
          Comma separated list of result types in order. Possible values are:
           unknown, bookmark, history, search_engine, search_suggest, search_history,
           tab, remote_tab, suggest_sponsor, suggest_non_sponsor
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-8109
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/18507
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  engagement:
    type: event
    description: |
      Recorded when the user executes an action on a result
    extra_keys:
      sap:
        type: string
        description: |
          Where the user action started, like urlbar or urlbar_newtab
      interaction:
        type: string
        description: |
          How the user started the search, by typing or pasting text
      search_mode:
        type: string
        description: |
          If the urlbar is in search mode, thus restricting results to a
          specific search engine or local source, this is set to the search
          mode source.
      n_chars:
        type: quantity
        description: |
         Number of typed characters
      n_words:
        type: quantity
        description: |
         Number of typed words (doesnt support CJK languages)
      n_results:
        type: quantity
        description: |
         Number of results, if this is high the results
         list below may be incomplete due to size limits
      selected_result:
        type: string
        description: |
          Type of the selected result, which can have a value like bookmarks, history, tab, search_history, search_engine, suggest_sponsor, suggest_non_sponsor
      selected_result_subtype:
        type: string
        description: |
          set when a result provides multiple choices, like quick actions
      provider:
        type: string
        description: |
          name of the UrlbarProvider that returned the selected result
      engagement_type:
        type: string
        description: |
          which action was executed on the result, which can be tap, enter, drop_go, paste_go, dismiss, help
      groups:
        type: string
        description: |
          Comma separated list of result groups in order, groups may be
          repeated, since the list will match 1:1 the results list, so we
          Can link each result to a group, like  heuristic, adaptive_history,
           search_history, search_suggest, top_pick, top_site, remote_tab, addon,
            general, suggest
      results:
        type: string
        description: |
          Comma separated list of result types in order. Possible values are:
           unknown, bookmark, history, search_engine, search_suggest, search_history,
           tab, remote_tab, suggest_sponsor, suggest_non_sponsor

    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-8110
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/18507
      - https://github.com/mozilla-mobile/firefox-ios/pull/18654
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  abandonment:
    type: event
    description: |
      Recorded when urlbar results are shown to the user
    extra_keys:
      sap:
        type: string
        description: |
          Where the user action started, like urlbar or urlbar_newtab
      interaction:
        type: string
        description: |
          How the user started the search, by typing or pasting text
      search_mode:
        type: string
        description: |
          If the urlbar is in search mode, thus restricting results to a
          specific search engine or local source, this is set to the search
          mode source. For iOS the search starts from tabs
      n_chars:
        type: quantity
        description: |
         Number of typed characters
      n_words:
        type: quantity
        description: |
         Number of typed words (doesnt support CJK languages)
      n_results:
        type: quantity
        description: |
         Number of results, if this is high the results
         list below may be incomplete due to size limits
      groups:
        type: string
        description: |
          Comma separated list of result groups in order, groups may be
          repeated, since the list will match 1:1 the results list, so we
          Can link each result to a group, like  heuristic, adaptive_history,
           search_history, search_suggest, top_pick, top_site, remote_tab, addon,
            general, suggest
      results:
        type: string
        description: |
          Comma separated list of result types in order. Possible values are:
           unknown, bookmark, history, search_engine, search_suggest, search_history,
           tab, remote_tab, suggest_sponsor, suggest_non_sponsor
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-8111
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/18507
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Awesomebar related telemetry

awesomebar:
  location:
    type: event
    description: |
      Records location of awesome bar when
      user opens the app
    extra_keys:
      location:
        type: string
        description: |
          The location of awesomebar (top or bottom)
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10537
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10537
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  drag_location_bar:
    type: event
    description: |
      Records when dragging the location bar
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10734
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10734
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  search_result_impression:
    type: event
    description: |
      Recorded for an item that was visible in the list of search results
      when the user finished interacting with the awesomebar.
    extra_keys:
      type:
        description: |
          Type: amp-suggestion, wikipedia-suggestion
        type: string
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-8326
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/18452
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - interaction
    expires: "2025-07-01"
  search_result_tap:
    type: event
    description: |
      Record type of search item tap from the
      list of results of awesomebar search.
    extra_keys:
      type:
        description: |
          Type: history-item, remote-tab, opened-tab,
          bookmark-item, search-suggestion,
          amp-suggestion, wikipedia-suggestion
        type: string
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9996
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10867
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
      - https://github.com/mozilla-mobile/firefox-ios/pull/18452
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - interaction
    expires: "2025-07-01"
  query_time:
    type: timing_distribution
    time_unit: millisecond
    description: >
      The time a query against awesomebar took.
      This helps us understand the performance of the awesomebar
      in querying history and bookmarks.
      The query time will also help us verify that we are
      **not** introducing any performance regressions.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/SYNC-3261
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/issues/11602
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
    notification_emails:
      - sync-core@mozilla.com
      - mhammond@mozilla.com
    expires: never
  share_button_tapped:
    type: event
    description: |
      Counts the number of times a user taps share
      button on the awesomebar
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-5284
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12472
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Toolbar related metrics
toolbar:
  qr_scan_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the qr code scan button
        in the address toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  clear_search_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the clear button
        in the address toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  share_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the share button
        in the address toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  refresh_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the refresh button
        in the address toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  reader_mode_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the reader mode button
        in the address toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
      enabled:
        description: Whether reader mode was opened or closed
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  site_info_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the site info button
        in the address toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  back_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the back button
        in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  forward_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the forward button
        in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  back_long_press:
    type: event
    description: |
        Counts the number of times a user long presses the back button
        in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  forward_long_press:
    type: event
    description: |
        Counts the number of times a user long presses the forward button
        in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  home_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the home button
        in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  one_tap_new_tab_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the one tap new tab
        button in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  one_tap_new_tab_long_press:
    type: event
    description: |
        Counts the number of times a user long presses the one
        tap new tab button in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  search_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the search button
        in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  tab_tray_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the tab tray button
        in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  tab_tray_long_press:
    type: event
    description: |
        Counts the number of times a user long presses the tab tray
        button in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  app_menu_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the menu button
        in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"
  data_clearance_button_tapped:
    type: event
    description: |
        Counts the number of times a user taps the data clearance
        button in the address or navigation toolbar
    extra_keys:
      is_private:
        description: Whether the user is in private mode or not
        type: boolean
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/19327
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22325
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-06-01"

# Share sheet specific metrics

share_sheet:
  send_device_tapped:
    type: event
    description: |
      Counts the number of times a user taps send to device
      button from Share Sheet actions
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-5226
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12526
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  pocket_action_tapped:
    type: event
    description: |
      Counts the number of times a user taps Pocket icon
      from Share Sheet apps available
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-5226
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12552
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  save_to_pocket_tapped:
    type: event
    description: |
      Counts the number of times a user taps Save to Pocket
      from Share Sheet actions
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-5226
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12552
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  shared_to:
    type: event
    description: |
      Event to record that the user has shared content via the ShareManager.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/23704
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/23786
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    extra_keys:
      activity_identifier:
        type: string
        description: |
          The activity identifier indicating to where the user shared content.
      share_type:
        type: string
        description: |
          The type of content shared. Either a file, website, or tab.
      has_share_message:
        type: boolean
        description: |
          Whether an explicit share message (and optional subject line) was 
          appended to the shared content.
      is_enrolled_in_sent_from_firefox:
        type: boolean
        description: |
          Whether the user is enrolled in the Sent from Firefox experiment.
      is_opted_in_sent_from_firefox:
        type: boolean
        description: |
          Whether the user is opted in to the Sent from Firefox experiment.
          Only returns true if the user is both enrolled and opted in.

# Share related metrics

share:
  deeplink_open_url_startup_time:
    type: timing_distribution
    description: |
      Track the startup time of the application when the app was launched to open a url.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/24325
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/24422
    data_sensitivity:
      - technical
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

# Device specific metrics

device:
  authentication:
    type: boolean
    lifetime: application
    description: |
       True if the device support device owner authentication
       with either biometrics or a passcode.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/9374
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/9376
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

messaging:
  shown:
    type: event
    description: |
      A message was shown to the user.
    extra_keys:
      message_key:
        description: The Id of the message
        type: string
      message_surface:
        description: The surface of the message
        type: string
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10395
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10417
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - interaction
    expires: "2025-07-01"
  dismissed:
    type: event
    description: |
      A message was dismissed by the user.
    extra_keys:
      message_key:
        description: The Id of the message
        type: string
      message_surface:
        description: The surface of the message
        type: string
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10395
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10417
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - interaction
    expires: "2025-07-01"
  clicked:
    type: event
    description: |
      A message was clicked by the user.
    extra_keys:
      message_key:
        description: The Id of the message
        type: string
      message_surface:
        description: The surface of the message
        type: string
      action_uuid:
        description: The UUID of the action
        type: string
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10395
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10417
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - interaction
    expires: "2025-07-01"
  expired:
    type: event
    description: |
      A message's max display count has been reached.
    extra_keys:
      message_key:
        description: The Id of the message
        type: string
      message_surface:
        description: The surface of the message
        type: string
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10395
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10417
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - interaction
    expires: "2025-07-01"
  malformed:
    type: event
    description: |
      A message was malformed.
    extra_keys:
      message_key:
        description: The Id of the message
        type: string
      message_surface:
        description: The surface of the message
        type: string
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10395
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/10417
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - technical
    expires: "2025-07-01"
adjust:
  deeplink_received:
    type: event
    description: |
      Send for Adjust callback for deeplink.
    extra_keys:
      received_url:
        description: The deeplink url
        type: string
    send_in_pings:
      - first-session
      - metrics
      - events
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    data_sensitivity:
      - technical
    expires: "2025-07-01"
  campaign:
    type: string
    lifetime: ping
    description: |
      A string containing the Adjust campaign ID from which the user installed
      Firefox-iOS.
    send_in_pings:
      - first-session
      - metrics
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  ad_group:
    type: string
    lifetime: ping
    description: |
      A string containing the Adjust ad group ID from which the user installed
      Firefox-iOS.
    send_in_pings:
      - first-session
      - metrics
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  creative:
    type: string
    lifetime: ping
    description: |
      A string containing the Adjust creative ID from which the user installed
      Firefox-iOS.
    send_in_pings:
      - first-session
      - metrics
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  network:
    type: string
    lifetime: ping
    description: |
      A string containing the Adjust network ID from which the user installed
      Firefox-iOS.
    send_in_pings:
      - first-session
      - metrics
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11089
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
migration:
  image_sd_cache_cleanup:
    type: counter
    description: |
        Counts the number of times a user runs the
        sd web image library cache cleanup
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/10903
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11169
      - https://github.com/mozilla-mobile/firefox-ios/pull/12334
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

places_history_migration:
  duration:
    type: timing_distribution
    time_unit: millisecond
    description: |
        A time distribution of how long it took for the migration to occur
    bugs:
      - https://mozilla-hub.atlassian.net/browse/SYNC-3308
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11896
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
    notification_emails:
      - mhammond@mozilla.com
      - sync-team@mozilla.com
    expires: "2025-07-01"
  num_to_migrate:
    type: quantity
    unit: visits
    description: |
       The number of visits expected to migrate to the places.db
    bugs:
      - https://mozilla-hub.atlassian.net/browse/SYNC-3308
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11896
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
    notification_emails:
      - mhammond@mozilla.com
      - sync-team@mozilla.com
    expires: "2025-07-01"
  num_migrated:
    type: quantity
    unit: visits
    description: |
       The number of visits migrated to the places.db
    bugs:
      - https://mozilla-hub.atlassian.net/browse/SYNC-3308
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11896
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
    notification_emails:
      - mhammond@mozilla.com
      - sync-team@mozilla.com
    expires: "2025-07-01"
  migration_ended_rate:
    type: rate
    description: |
       A Rate of how often migrations end
    bugs:
      - https://mozilla-hub.atlassian.net/browse/SYNC-3308
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11896
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
    notification_emails:
      - mhammond@mozilla.com
      - sync-team@mozilla.com
    expires: "2025-07-01"
  migration_error_rate:
    type: rate
    description: |
       A Rate of how often migrations error out
    bugs:
      - https://mozilla-hub.atlassian.net/browse/SYNC-3308
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/11896
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    data_sensitivity:
      - technical
    notification_emails:
      - mhammond@mozilla.com
      - sync-team@mozilla.com
    expires: "2025-07-01"
# Address autofill
addresses:
  form_detected:
    type: event
    description: |
      Recorded when a form is recognized as an address form.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18980
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19228
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_prompt_shown:
    type: event
    description: |
      Recorded when autofill popup is shown, indicating which field triggered this event.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18980
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19228
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_prompt_expanded:
    type: event
    description: |
      Recorded when the autofill prompt was expanded.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18980
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19228
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_prompt_dismissed:
    type: event
    description: |
      Recorded when the autofill prompt was dismissed.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18980
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19228
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofilled:
    type: event
    description: |
      Recorded when a form is autofilled.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18980
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19228
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  modified:
    type: event
    description: |
      Recorded when a field is autofilled and then modified by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18980
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19228
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  settings_autofill:
    type: event
    description: |
      Recorded when the user has tapped Autofill in the settings menu.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18980
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19228
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  saved_all:
    type: quantity
    description: |
      A counter of the number of all addresses that are currently saved by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/18980
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/19228
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    unit: quantity of addresses.saved_all
# Credit card autofill
credit_card:
  autofill_settings_tapped:
    type: event
    description: |
      Recorded when the user taps on credit card autofill
      settings item in settings screen.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12813
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/12813
      - https://github.com/mozilla-mobile/firefox-ios/pull/14102
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  form_detected:
    type: event
    description: |
      Recorded when the user taps on credit card form input
      and we detect it.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-6703
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15251
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofilled:
    type: event
    description: |
      Recorded when a user taps a card from bottom sheet
      select a card flow and the credit card gets
      autofilled on the webpage
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-6703
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15251
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_failed:
    type: event
    description: |
      Recorded when a user taps a card from bottom sheet
      select a card flow and the credit card does not
      get autofilled on the webpage
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-6703
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15251
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  save_prompt_create:
    type: event
    description: |
      Recorded when a user saved a credit card using
      the autofill save prompt.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-6703
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15251
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_toggle:
    type: event
    description: |
      Recorded when a user toggles to enable save and autofill
      cards in autofill settings
    send_in_pings:
      - events
    extra_keys:
      is_enabled:
        type: boolean
        description: |
          If is enabled or not (true / false)
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-6703
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15251
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  sync_toggle:
    type: event
    description: |
      Recorded when a user toggles to enable save and autofill
      cards in sync settings
    send_in_pings:
      - events
    extra_keys:
      is_enabled:
        type: boolean
        description: |
          If is enabled or not (true / false)
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-6703
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15251
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_enabled:
    type: boolean
    description: |
      Recorded on startup to check if credit card
      autofill settings are enabled
    lifetime: application
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-6703
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15251
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  sync_enabled:
    type: boolean
    description: |
      Recorded on startup to check if credit card
      sync settings are enabled
    lifetime: application
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-6703
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/15251
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

  autofill_prompt_shown:
    type: event
    description: |
      Records when the credit card autofill prompt was shown.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_prompt_expanded:
    type: event
    description: |
      Records when the credit card autofill prompt was expanded.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  autofill_prompt_dismissed:
    type: event
    description: |
      Records when the credit card autofill prompt was dismissed.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  save_prompt_shown:
    type: event
    description: |
      Records when the credit card autofill save prompt is shown.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  save_prompt_update:
    type: event
    description: |
      Records when the user updated a credit card using the autofill save prompt.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  management_add_tapped:
    type: event
    description: |
      Records when the user has tapped the add button through credit card management settings.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  management_card_tapped:
    type: event
    description: |
      Records when the user has tapped on a saved card through credit card management settings.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  saved:
    type: counter
    description: |
      A counter of the number of credit cards that have been saved by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  saved_all:
    type: quantity
    description: |
      Record the number of ALL the credit cards that have been currently stored by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    unit: quantity of credit_card.saved_all
  deleted:
    type: counter
    description: |
      A counter of the number of credit cards that have been deleted by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
  modified:
    type: counter
    description: |
      A counter of the number of credit cards that have been modified by the user.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17248
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17331
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"

app_errors:
  large_file_write:
    type: event
    description: |
      Recorded when a very large file is written to disk
    extra_keys:
      size:
        description: |
          The size of the file that was written
        type: quantity
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-7558
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/16826
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  crashed_last_launch:
    type: event
    description: |
      Recorded when the previous session ended as a result of a crash
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16827
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17844
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  cpu_exception:
    type: event
    description: |
      Recorded when a cpu exception is triggered
    extra_keys:
      size:
        description: |
          Total CPU time consumed in the scope of the exception
        type: quantity
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16828
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17844
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  hang_exception:
    type: event
    description: |
      Recorded when the main thread hangs
    extra_keys:
      size:
        description: |
          Total time the main thread was blocked
        type: quantity
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16829
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17844
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  tab_loss_detected:
    type: event
    description: |
      Recorded when we detect potential tab loss
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/22180
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/22221
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never

webview:
  did_fail_provisional:
    type: event
    description: |
      Recorded when an error occurs on early webview navigation.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17716
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17910
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  did_fail:
    type: event
    description: |
      Recorded when an error occurred during navigation.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17716
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17910
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  show_error_page:
    type: event
    extra_keys:
      error_code:
        type: string
        description: |
          The error code number
    description: |
      Recorded when an error page is shown on the webview.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17716
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17910
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never
  page_load:
    type: timing_distribution
    time_unit: millisecond
    description: >
      Counts how long each page takes to load
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/17717
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/18012
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: never

fx_suggest:
  ping_type:
    type: string
    description: >
      The ping's type. Either "fxsuggest-click" or "fxsuggest-impression".
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16589
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17556
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - lina@mozilla.com
      - ttran@mozilla.com
      - najiang@mozilla.com
    expires: never
    send_in_pings:
      - fx-suggest
  position:
    type: quantity
    unit: non-negative integer
    description: >
      The position (1-based) of this suggestion in the full list of suggestions, relative to the
      top of the awesomebar.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16589
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17556
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - lina@mozilla.com
      - ttran@mozilla.com
      - najiang@mozilla.com
    expires: never
    send_in_pings:
      - fx-suggest
  block_id:
    type: quantity
    description: |
      A unique identifier for a sponsored suggestion. Not set for non-sponsored suggestions.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16589
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17556
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - lina@mozilla.com
      - ttran@mozilla.com
      - najiang@mozilla.com
    expires: never
    unit: integer
    send_in_pings:
      - fx-suggest
  advertiser:
    type: string
    description: |
      The name of the advertiser providing the sponsored suggestion
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16589
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17556
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - lina@mozilla.com
      - ttran@mozilla.com
      - najiang@mozilla.com
    expires: never
    send_in_pings:
      - fx-suggest
  is_clicked:
    type: boolean
    description: >
      If `ping_type` is "fxsuggest-impression", indicates whether this
      impression is for a clicked suggestion.
      If `ping_type` is "fxsuggest-click", always `true`.
    bugs:
      - https://mozilla-hub.atlassian.net/browse/FXIOS-8223
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/18273
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - lina@mozilla.com
      - ttran@mozilla.com
      - najiang@mozilla.com
    expires: never
    send_in_pings:
      - fx-suggest
  reporting_url:
    type: url
    description: |
      If this ping is for a sponsored suggestion, the partner URL for reporting this interaction.
      Not set for non-sponsored suggestions.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16589
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17556
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - lina@mozilla.com
      - ttran@mozilla.com
      - najiang@mozilla.com
    expires: never
    send_in_pings:
      - fx-suggest
  context_id:
    type: uuid
    description: |
      An identifier to identify users for Contextual Services user interaction pings.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16589
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17556
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - lina@mozilla.com
      - ttran@mozilla.com
      - najiang@mozilla.com
    expires: never
    send_in_pings:
      - fx-suggest
  iab_category:
    type: string
    description: |
      The suggestion's advertising category. "22 - Shopping" for sponsored suggestions.
      Not set for non-sponsored suggestions.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/16589
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/17556
    data_sensitivity:
      - interaction
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - lina@mozilla.com
      - ttran@mozilla.com
      - najiang@mozilla.com
    expires: never
    send_in_pings:
      - fx-suggest

# Window (iPad) metrics
windows:
  ipad_window_count:
    type: quantity
    description: |
      A snapshot of how many windows the user has opened on iPad.
    bugs:
      - https://github.com/mozilla-mobile/firefox-ios/issues/20102
    data_reviews:
      - https://github.com/mozilla-mobile/firefox-ios/pull/20133
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
    expires: "2025-07-01"
    unit: quantity of iPad windows

# Server Knobs validation
server_knobs:
  validation:
    disabled: true
    type: event
    description: |
      Temporary metric recorded at the same time as
      "app_cycle.foreground" to validate that the Glean Server Knobs
      functionality is working correctly.
    bugs:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1823688
    data_reviews:
      - https://bugzilla.mozilla.org/show_bug.cgi?id=1823688#c2
    notification_emails:
      - fx-ios-data-stewards@mozilla.com
      - brosa@mozilla.com
    expires: "2025-07-01"

nimbus_system:
  recorded_nimbus_context:
    type: object
    structure:
      type: object
      properties:
        is_first_run:
          type: boolean
        event_query_values:
          type: object
          properties:
            days_opened_in_last_28:
              type: number
        is_review_checker_enabled:
          type: boolean
        is_phone:
          type: boolean
        app_version:
          type: string
        locale:
          type: string
        days_since_install:
          type: number
        days_since_update:
          type: number
        language:
          type: string
        region:
          type: string
        is_default_browser:
          type: boolean
    description: |
      The Nimbus context object that is recorded to Glean
    bugs:
      - 'https://github.com/mozilla-mobile/firefox-ios/issues/23736'
    data_reviews:
      - 'https://github.com/mozilla-mobile/firefox-ios/pull/23737#issuecomment-2541639916'
    data_sensitivity:
      - interaction
    notification_emails:
      - chumphreys@mozilla.com
      - project-nimbus@mozilla.com
    expires: never
    send_in_pings:
      - nimbus
