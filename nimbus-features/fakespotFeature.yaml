# The configuration for the Fakespot feature
features:
  shopping2023:
    description: >
      The configuration setting for the status of the Fakespot feature
    variables:
      status:
        description: >
          Whether the Fakespot feature is enabled or disabled
        type: Boolean
        default: false
      config:
        type: Map<String, WebsiteConfig>
        description: >
          A Map of website configurations
        default:
          amazon:
            productIdFromURLRegex: "(?:[\\\\/]|$|%2F)(?<productId>[A-Z0-9]{10})(?:[\\\\/]|$|\\\\#|\\\\?|%2F)"
            validTLDs: ["com"]
          walmart:
            productIdFromURLRegex: "\\\\/ip\\\\/(?:[A-Za-z0-9-]{1,320}\\\\/)?(?<productId>[0-9]{3,13})"
            validTLDs: ["com"]
          bestbuy:
            productIdFromURLRegex: "\\\\/(?<productId>\\\\d+\\\\.p)"
            validTLDs: ["com"]
    defaults:
      - channel: beta
        value:
          status: false
      - channel: developer
        value:
          status: true

objects:
  WebsiteConfig:
    description: >
      It represents a configuration for different e-commerce websites and includes regular expressions for extracting product IDs from their respective URLs
    fields:
      productIdFromURLRegex:
        type: String
        description: >
          It represents the product ID extracted from a regex query
        default: ""
      validTLDs:
        type: List<String>
        description: >
          Valid Top Level Domains
        default: []
